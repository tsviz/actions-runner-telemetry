name: "Runner Telemetry Action"
description: "Collect system telemetry from GitHub Actions runners with visual dashboards and per-step tracking."
author: "tsviz"
inputs:
  enabled:
    description: "Enable or disable telemetry. Set to 'false' to skip collection without removing from workflow."
    required: false
    default: "true"
  mode:
    description: "Operation mode: 'start' begins collection, 'stop' ends and generates report, 'step' marks a boundary, 'snapshot' for quick capture."
    required: false
    default: "start"
  interval:
    description: "Sampling interval in seconds for metrics collection."
    required: false
    default: "2"
  step-name:
    description: "Name of the current step (used with mode: 'step' to mark step boundaries for per-step analysis)."
    required: false
    default: ""
runs:
  using: "docker"
  image: "docker://ghcr.io/tsviz/actions-runner-telemetry:v1"
  entrypoint: "/entrypoint.sh"
  post-entrypoint: "/post-entrypoint.sh"
  env:
    INPUT_ENABLED: ${{ inputs.enabled }}
    INPUT_MODE: ${{ inputs.mode }}
    INPUT_INTERVAL: ${{ inputs.interval }}
    INPUT_STEP_NAME: ${{ inputs.step-name }}
branding:
  icon: "activity"
  color: "blue"
